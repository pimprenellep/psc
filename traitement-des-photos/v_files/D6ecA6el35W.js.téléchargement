if (self.CavalryLogger) { CavalryLogger.start_js(["GGdjm"]); }

__d("MessengerLightweightActionAttachmentContent.react",["cx","LineClamp.react","Image.react","ImageBlock.react","MercuryShareAttachmentRenderLocations","MercuryShareAttachmentReactShape","MercuryShareImage.react","MessengerAttachmentImageBlock.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;var i=72;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){var a=this.props.attachment,c=this.props.location,d=this.$1();if(a.media&&a.media.image){if(b("MercuryShareAttachmentRenderLocations").CHAT===c||b("MercuryShareAttachmentRenderLocations").CHAT_PREVIEW===c)return this.$2(d);else if(b("MercuryShareAttachmentRenderLocations").MESSENGER===c)return this.$3(d);return this.$4(d)}return b("React").createElement("div",{className:b("joinClasses")(this.props.className,d)},this.$5(),this.props.children)};a.prototype.$2=function(a){return b("React").createElement(b("ImageBlock.react"),{className:a,spacing:"medium"},b("React").createElement(b("MercuryShareImage.react"),{height:i,source:this.props.attachment.media.image,width:i}),b("React").createElement("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column",height:i}},this.$5()))};a.prototype.$3=function(a){return b("React").createElement(b("MessengerAttachmentImageBlock.react"),{className:a,attachment:this.props.attachment},this.$5(),this.props.children)};a.prototype.$4=function(a){return b("React").createElement(b("ImageBlock.react"),{className:b("joinClasses")(this.props.className,a)},b("React").createElement(b("Image.react"),{className:"__6n",src:this.props.attachment.media.image,width:i}),this.$5(),this.props.children)};a.prototype.$1=function(){var a=this.props.attachment,c=this.props.location;return(b("MercuryShareAttachmentRenderLocations").CHAT===c?"_49or":"")+(b("MercuryShareAttachmentRenderLocations").CHAT_PREVIEW===c?" _324d":"")+(b("MercuryShareAttachmentRenderLocations").CHAT!==c?" _tih":"")+(a&&a.media.image?"":" _49ou")+" _310t"};a.prototype.$5=function(){return b("MercuryShareAttachmentRenderLocations").MESSENGER===this.props.location?b("React").createElement("div",{className:"__6j"},this.$6(),this.$7()):b("React").createElement("div",{className:"__6j"},this.$8(),this.$9())};a.prototype.$6=function(){return!this.props.attachment.title?null:b("React").createElement("div",{className:"__6k"},b("React").createElement(b("LineClamp.react"),{customEllipsis:" ",lines:2,lineHeight:18},this.props.attachment.title))};a.prototype.$7=function(){return!this.props.attachment.description?null:b("React").createElement("div",{className:"__6l"},b("React").createElement(b("LineClamp.react"),{customEllipsis:" ",lines:2,lineHeight:16},this.props.attachment.description))};a.prototype.$8=function(){return!this.props.attachment.title?null:b("React").createElement("div",{className:"__6k _2xsq"},this.props.attachment.title)};a.prototype.$9=function(){return!this.props.attachment.description?null:b("React").createElement("div",{className:"__6l"},this.props.attachment.description)};function a(){h.apply(this,arguments)}a.propType={attachment:b("MercuryShareAttachmentReactShape"),location:c.oneOf(b("MercuryShareAttachmentRenderLocations").getValues())};e.exports=a}),null);
__d("MessengerLightweightActionAttachment.react",["cx","fbt","Bootloader","MercuryMessageActions","MercuryIDs","MercuryShareAttachmentRenderLocations","MercuryShareAttachmentReactShape","MercurySourceType","MercuryMessageObject","MessagingTag","MessengerLightweightActionAttachmentContent.react","MercuryThreadActions","CurrentUser","Link.react","React","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("MercuryMessageActions").get(),k=b("MercuryThreadActions").get(),l=b("CurrentUser").getID();c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){__p&&__p();i.constructor.call(this),this.state={canClickWave:!0},this.$2=function(event){__p&&__p();if(this.props.attachment.target.lwa_type!="GROUP_WAVE"&&this.$1()||!this.state.canClickWave)return;this.setState({canClickWave:!1});setTimeout(function(){this.unmounted||this.setState({canClickWave:!0})}.bind(this),5e3);k.changeFolder(this.props.threadID,b("MessagingTag").INBOX);var a=b("MercuryMessageObject").getForFBID(l).constructAttachmentMessageObject(b("MercurySourceType").MESSENGER_WEB,this.props.threadID);this.props.attachment.target.lwa_type==="GROUP_WAVE"?a.lightweight_action_attachment={lwa_state:"INITIATED",lwa_type:this.props.attachment.target.lwa_type}:a.lightweight_action_attachment={lwa_state:"RECIPROCATED",lwa_type:this.props.attachment.target.lwa_type};j.send(a);this.$3(this.props.threadID,a.lightweight_action_attachment.lwa_state);this.props.onCompletion&&this.props.onCompletion()}.bind(this),this.unmounted=!1}a.prototype.renderLink=function(a){return b("MercuryShareAttachmentRenderLocations").isPreview(this.props.location)||this.props.attachment.target.lwa_state!="INITIATED"||this.$1()?b("gkx")("AT5jVqghs9R-Nalfuant-OpQGexKpV-Lvk0zsjcgyNeCAPkQFy-F7Ku4x6WSSnQxEXUiMEmPIqbnxuBACYn4sSsR")?b("React").createElement("div",{className:"_18oz"},a):a:b("gkx")("AT5jVqghs9R-Nalfuant-OpQGexKpV-Lvk0zsjcgyNeCAPkQFy-F7Ku4x6WSSnQxEXUiMEmPIqbnxuBACYn4sSsR")?b("React").createElement("div",{className:"_18oz _18o_"},a,b("React").createElement("div",{className:"_18p0"},b("React").createElement(b("Link.react"),{className:"_5rw4 _18p1",onClick:this.$2,target:"_blank",tabIndex:"0"},h._("Hello\u00a0!")))):b("React").createElement(b("Link.react"),{className:"_5rw4",onClick:this.$2,target:"_blank",tabIndex:"0"},a)};a.prototype.render=function(){return this.renderLink(b("React").createElement(b("MessengerLightweightActionAttachmentContent.react"),this.props))};a.prototype.$1=function(){return this.props.pageID===b("MercuryIDs").getParticipantIDFromUserID(l)};a.prototype.componentWillUnmount=function(){this.unmounted=!0};a.prototype.$3=function(a,c){a=b("MercuryIDs").getUserIDFromThreadID(a),b("Bootloader").loadModules(["MessengerWebWaveTypedLogger","MessengerWaveEntrypoint"],function(b,d){new b().setUserID(l).setRecipientID(a).setEntrypoint(d.THREAD_VIEW).setLwaState(c).log()},"MessengerLightweightActionAttachment.react")};a.propTypes={attachment:b("MercuryShareAttachmentReactShape"),location:c.oneOf(b("MercuryShareAttachmentRenderLocations").getValues()),pageID:c.string};e.exports=a}),null);